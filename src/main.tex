%TODO sjekk at alle listings er formatert likt, aka ikke noe punktum på slutten osv.

\documentclass[UKenglish]{ifimaster}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc,url}
\urlstyle{sf}
\usepackage{babel,textcomp,csquotes,varioref,graphicx}
\usepackage{listings}
\usepackage{xcolor}
\usepackage[backend=biber,style=numeric-comp]{biblatex}
\usepackage{color}
\usepackage{hyperref}
\usepackage[chapter]{minted}
\usepackage{backnaur}
\usepackage{multicol}
\usepackage{duomasterforside}
\usepackage{parskip}
%\usepackage[IFI, master, LongTitle]{mnfrontpage}

\hypersetup{
    colorlinks=true,
    linktoc=all,
    linkcolor=blue
}

\title{Package Template Script}
\subtitle{An Implementation of Package Templates in TypeScript}
\author{Petter Sæther Moen}

\addbibresource{library.bib}


% Custom macros
\newcommand{\codeword}[1]{\texttt{#1}}
\newcommand{\plname}{Package Template Script}
\newcommand{\red}[1]{\textcolor{red}{#1}}

% Custom environments
% \begin{code}{programming language}{Caption}{label}
\newenvironment{code}[4][]
{\VerbatimEnvironment
    \begin{listing}
        \caption{#3}\label{#4}
    \begin{minted}[
        frame=lines,
        #1]{#2}}
 {\end{minted}\end{listing}}

\AtBeginEnvironment{minted}{%
    \renewcommand{\fcolorbox}[4][]{#4}}

\newcommand{\codeinputfile}[4]{
    \begin{listing}
        \inputminted[frame=lines]{#2}{#1}
        \caption{#3}
        \label{#4}
    \end{listing}}


\begin{document}

%\include{diff}


%\mnfrontpage
\duoforside[dept={Department of Informatics},
  program={Informatics: Programming and System Architecture},
  long]

\frontmatter{}

\clearpage
\section*{Abstract}
\addcontentsline{toc}{section}{Abstract}

In this thesis we will explore how TypeScript can be extended with an additional language mechanism for re-use and adaptation, namely Package Templates.
We will look at how Package Templates, which was initially designed for a nominally typed language, will work in a structurally typed language like TypeScript, and what differences this makes for its usage.

Package Templates, or as it was originally called, Generic Packages, is a language mechanism first proposed by Krogdahl in 2001.
The language mechanism gives the programmer the opportunity to create collections of classes, interfaces and enums which can later be re-used and adapted.
These collections can be instantiated inside new collections, where the mechanism allows for renaming classes and its attributes, as well as merging members of the instantiated collections.
This enables the programmer to write general collections for concepts such as graphs and lists, and later adapt these to new domains with additional concepts forming collections for domains such as road systems between cities.

% TODO skrive noe mer om hva som er resultatet av arbediet, noe ala dette:
The result of the work done in this thesis is the Package Templates Script programming language, or just PTS for short, and an easily accessible compiler for the language.
This contribution will hopefully make the language mechanism, Package Templates, more accessible for newcomers, and potentially spark further research in the field.

\cleardoublepage

\section*{Acknowledgements}
\addcontentsline{toc}{section}{Acknowledgments}

I would like to thank my supervisor, Associate Professor Eyvind Wærsted Axelsen, who has made me a more critical thinker through his thorough and pedagogic feedback and has helped me gain insights I would likely have lacked without his help.

I would also like to thank my co-supervisor, Professor Stein Krogdahl, who unfortunately fell ill and passed away.
It was a true inspiration to work with someone with such vast knowledge and experience in the field of programming languages.

Finally, I would like to thank my parents who have supported and encouraged me throughout my education, and my friends who have motivated me and brightened my days in these rather challenging times.\\

\begin{flushright}
    \textbf{Petter Sæther Moen}\\*
    Oslo, 2021
\end{flushright}

\hypersetup{linkcolor=black}

\tableofcontents{}
%\listoffigures{}
%\listoftables{}
\listoflistings{}



\cleardoublepage

\hypersetup{linkcolor=blue}

\mainmatter{}


\part{Introduction and Background}\label{part:introduction}

\include{chapters/introduction/introduction}

\include{chapters/background/background}

\part{The project}\label{part:the-project}

\include{chapters/the-language/the-language}

\include{chapters/planning/planning-the-project}

\include{chapters/implementation/implementation}

\include{chapters/using-pts/using-pts}

\part{Results}\label{part:Results}

\include{chapters/discussion/discussion}

\include{chapters/results/results}


\backmatter{}
\printbibliography
\end{document}
