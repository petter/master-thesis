%! Author = petter
%! Date = 04.01.2021

\chapter{Implementation}\label{ch:implementation}

In this chapter we are going to look at the implementation for PT in TypeScript.

\section{Architecture / Parts of the compiler / PP}\label{sec:architecture}



\subsection{Lexer and Parser}\label{sec:lexer-and-parser}

tree-sitter grammar extending tree-sitter-typescript

\subsection{Instantiation and Renaming}\label{sec:instantiation-and-renaming}


\subsection{Verification of Templates}\label{sec:verification-of-templates}

ts api

\subsection{Code Generation}\label{sec:code-generation}

generate ts and compile ts to js through ts api.

\section{Notes on Performance}

Very slow compiler/PP because of the chosen implementation, with tree traverser for every step.

\section{Does PTS fulfill the requirements of PT?}\label{sec:does-pts-fulfill-the-requirements-of-pt?}

\subsection{Verifying Templates}\label{subsec:pt-requirements-verifying-templates}

Talk about unsoudness of TypeScript.
Talk about unsoudness of Java \cite{java-unsound}
Talk about since the requirement is met with Java we assume it is adequately met with TypeScript as well.

